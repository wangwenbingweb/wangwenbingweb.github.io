webpackJsonp([7],{"3IMD":function(t,e){},"9Fhu":function(t,e){},JKiR:function(t,e){},SSsa:function(t,e,n){"use strict";var a=n("RfZZ"),i=n("AA6R"),s=n.n(i),o=n("o69Z"),r=n("rhik"),l=n("V+2B"),c=n("n8HW"),u=n("+2ln"),d=n("pIDD"),f=Object(o.b)("button"),h=f[0],p=f[1];function m(t,e,n,a){var i,o=e.tag,f=e.icon,h=e.type,m=e.color,g=e.plain,v=e.disabled,b=e.loading,k=e.hairline,C=e.loadingText,T={};m&&(T.color=g?m:l.f,g||(T.background=m),-1!==m.indexOf("gradient")?T.border=0:T.borderColor=m);var x,S,y=[p([h,e.size,{plain:g,loading:b,disabled:v,hairline:k,block:e.block,round:e.round,square:e.square}]),(i={},i[l.c]=k,i)];return t(o,s()([{style:T,class:y,attrs:{type:e.nativeType,disabled:v},on:{click:function(t){b||v||(Object(r.a)(a,"click",t),Object(c.a)(a))},touchstart:function(t){Object(r.a)(a,"touchstart",t)}}},Object(r.b)(a)]),[(S=[],b?S.push(t(d.a,{class:p("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"currentColor"}})):f&&S.push(t(u.a,{attrs:{name:f,classPrefix:e.iconPrefix},class:p("icon")})),(x=b?C:n.default?n.default():e.text)&&S.push(t("span",{class:p("text")},[x])),S)])}m.props=Object(a.a)({},c.c,{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}}),e.a=h(m)},XmAh:function(t,e,n){"use strict";var a=n("nsZj"),i=(n.n(a),n("02pT")),s=(n.n(i),n("T2s0")),o=(n.n(s),n("1H7Z")),r=(n.n(o),n("hW8u")),l=(n.n(r),n("WpgC")),c=(n.n(l),n("3IMD")),u=(n.n(c),n("JKiR"));n.n(u)},gMJ0:function(t,e){},hJyv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,i=n("Xxa5"),s=n.n(i),o=n("exGp"),r=n.n(o),l=(n("WJbf"),n("OhwO")),c=n("Dd8w"),u=n.n(c),d=n("bOdI"),f=n.n(d),h=(n("XmAh"),n("il3B")),p=(n("k3b4"),n("+2ln")),m=(n("nsZj"),n("T2s0"),n("1H7Z"),n("qpP9"),n("9Fhu"),n("RfZZ")),g=n("o69Z"),v=n("V+2B"),b=n("3X7g"),k=n("1SJR"),C=n("1fWZ"),T=n("noWC"),x=Object(g.b)("collapse-item"),S=x[0],y=x[1],E=["title","icon","right-icon"],O=S({mixins:[Object(k.a)("vanCollapse")],props:Object(m.a)({},T.a,{name:[Number,String],disabled:Boolean,isLink:{type:Boolean,default:!0}}),data:function(){return{show:null,inited:null}},computed:{currentName:function(){return Object(g.d)(this.name)?this.name:this.index},expanded:function(){var t=this;if(!this.parent)return null;var e=this.parent,n=e.value;return e.accordion?n===this.currentName:n.some(function(e){return e===t.currentName})}},created:function(){this.show=this.expanded,this.inited=this.expanded},watch:{expanded:function(t,e){var n=this;null!==e&&(t&&(this.show=!0,this.inited=!0),(t?this.$nextTick:b.c)(function(){var e=n.$refs,a=e.content,i=e.wrapper;if(a&&i){var s=a.offsetHeight;if(s){var o=s+"px";i.style.height=t?0:o,Object(b.b)(function(){i.style.height=t?o:0})}else n.onTransitionEnd()}}))}},methods:{onClick:function(){if(!this.disabled){var t=this.parent,e=this.currentName,n=t.accordion&&e===t.value?"":e;t.switch(n,!this.expanded)}},onTransitionEnd:function(){this.expanded?this.$refs.wrapper.style.height="":this.show=!1},genTitle:function(){var t=this,e=this.$createElement,n=this.disabled,a=this.expanded,i=E.reduce(function(e,n){return t.slots(n)&&(e[n]=function(){return t.slots(n)}),e},{});return this.slots("value")&&(i.default=function(){return t.slots("value")}),e(C.a,{attrs:{role:"button",tabindex:n?-1:0,"aria-expanded":String(a)},class:y("title",{disabled:n,expanded:a}),on:{click:this.onClick},scopedSlots:i,props:Object(m.a)({},this.$props)})},genContent:function(){var t=this.$createElement;if(this.inited)return t("div",{directives:[{name:"show",value:this.show}],ref:"wrapper",class:y("wrapper"),on:{transitionend:this.onTransitionEnd}},[t("div",{ref:"content",class:y("content")},[this.slots()])])}},render:function(){var t;return(0,arguments[0])("div",{class:[y(),(t={},t[v.d]=this.index,t)]},[this.genTitle(),this.genContent()])}}),_=Object(g.b)("collapse"),w=_[0],A=_[1],D=w({mixins:[Object(k.b)("vanCollapse")],props:{accordion:Boolean,value:[String,Number,Array],border:{type:Boolean,default:!0}},methods:{switch:function(t,e){this.accordion||(t=e?this.value.concat(t):this.value.filter(function(e){return e!==t})),this.$emit("change",t),this.$emit("input",t)}},render:function(){var t;return(0,arguments[0])("div",{class:[A(),(t={},t[v.e]=this.border,t)]},[this.slots()])}}),B=(n("eqfM"),n("/QYm")),I=n("NYxO"),$={components:(a={},f()(a,B.a.name,B.a),f()(a,D.name,D),f()(a,O.name,O),f()(a,p.a.name,p.a),f()(a,h.a.name,h.a),a),data:function(){return{item:{images:[]},hide:!1,activeNames:["1"],parentTaskId:this.$route.query.taskId,token:this.$store.state.token||"",userId:this.$store.state.userId||"",taskDetail:"",taskDetailImages:"",taskList:[]}},created:function(){},mounted:function(){this.getList()},methods:u()({},Object(I.b)(["SAVE_TEXT","SAVE_IMAGEUPLOAD","SAVE_TEXTTILE","SAVE_TEXTDEFAULTDESC","SAVE_IMAGETITLE","SAVE_CREDENTIALSTATE"]),{getImg:function(t,e){Object(l.a)({images:t,showIndex:!0,loop:!1,startPosition:e,closeable:!0})},changeCollapse:function(t,e,n){var a=this;this.taskList.forEach(function(e){e.flag!==a.taskList[t].flag&&(e.flag=!1)}),e.flag=!e.flag,1==e.flag&&this.getData(n)},directFn:function(t,e){if(1==e)if(this.$utils.isWeixin()){var n=new this.clipboard(".cobyOrderSn");n.on("success",function(){h.a.alert({title:"复制链接成功",message:"请粘贴链接至浏览器打开"}).then(function(){})}),n.on("error",function(){Object(B.a)({message:"复制失败",duration:2e3})})}else window.location.href=t;else 2==e&&(window.location.href=t)},submit:function(t){this.getTaskAuditModel(t)},getData:function(t){var e=this;return r()(s.a.mark(function n(){var a,i,o;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(a=new FormData).append("id",t),a.append("userId",e.userId),n.next=5,e.$api.singleGame(a);case 5:if(2e4==(i=n.sent).data.code){n.next=15;break}if(200!=i.data.code){n.next=13;break}e.taskDetail=i.data.data.taskDetail,e.taskDetailImages=i.data.data.taskDetailImages,""!=e.taskDetailImages&&null!=e.taskDetailImages&&"undefined"!=e.taskDetailImages?(o=e.taskDetailImages.split(","),e.item.images=o):e.item.images=[],n.next=15;break;case 13:return Object(B.a)(i.data.message),n.abrupt("return",!1);case 15:case"end":return n.stop()}},n,e)}))()},getList:function(){var t=this;return r()(s.a.mark(function e(){var n,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("mobileType","H"),n.append("userId",t.userId),n.append("parentTaskId",t.parentTaskId),e.next=6,t.$api.queryAllTask(n);case 6:if(2e4==(a=e.sent).data.code){e.next=14;break}if(200!=a.data.code){e.next=12;break}t.taskList=a.data.data.list,e.next=14;break;case 12:return Object(B.a)(a.data.message),e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,t)}))()},getTaskAuditModel:function(t){var e=this;return r()(s.a.mark(function n(){var a,i;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(a=new FormData).append("taskId",t),n.next=4,e.$api.taskAuditModel(a);case 4:if(2e4==(i=n.sent).data.code){n.next=28;break}if(200!=i.data.code){n.next=16;break}e.SAVE_TEXT(i.data.data.enableMultilineText||""),e.SAVE_IMAGEUPLOAD(i.data.data.enableImageUpload||""),e.SAVE_TEXTTILE(i.data.data.textTitle||""),e.SAVE_TEXTDEFAULTDESC(i.data.data.textDefaultDesc||""),e.SAVE_IMAGETITLE(i.data.data.imageTitle||""),e.SAVE_CREDENTIALSTATE("0"),e.$router.push({path:"/startTask",query:{taskId:t}}),n.next=28;break;case 16:if(210!=i.data.code){n.next=21;break}e.SAVE_CREDENTIALSTATE("2"),e.$router.push({path:"/startTask",query:{taskId:t}}),n.next=28;break;case 21:if(220!=i.data.code){n.next=26;break}e.SAVE_CREDENTIALSTATE("3"),e.$router.push({path:"/startTask",query:{taskId:t}}),n.next=28;break;case 26:return Object(B.a)(i.data.message),n.abrupt("return",!1);case 28:case"end":return n.stop()}},n,e)}))()}})},j={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-list"},[n("div",{staticClass:"content"},[n("van-collapse",{attrs:{border:t.hide,accordion:""},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},t._l(t.taskList,function(e,a){return n("van-collapse-item",{key:a},[n("div",{staticClass:"title_",attrs:{slot:"title"},on:{click:function(n){return t.changeCollapse(a,e,e.id)}},slot:"title"},[n("div",{staticClass:"icon"},[n("img",{attrs:{src:e.taskCover,alt:""}})]),t._v(" "),n("div",{staticClass:"details"},[n("div",{staticClass:"left"},[n("p",[t._v(t._s(e.taskTitle))]),t._v(" "),n("span",[t._v("+"+t._s(e.taskSingleReward))])]),t._v(" "),e.flag?n("div",{staticClass:"right"},[t._v(t._s(t.$t("m.up")))]):n("div",{staticClass:"right"},[t._v(t._s(t.$t("m.an")))])])]),t._v(" "),n("div",{staticClass:"container"},[n("div",{staticClass:"content"},[n("div",{staticClass:"step"},[t._v(t._s(t.$t("m.taskSteps")))]),t._v(" "),t.item.images.length>0?n("div",{staticClass:"category-nav"},[n("ul",{staticClass:"nav-list"},t._l(t.item.images,function(e,a){return n("li",{key:a},[n("img",{attrs:{src:e,alt:""},on:{click:function(e){return t.getImg(t.item.images,a)}}})])}),0)]):t._e(),t._v(" "),n("div",{staticClass:"process"},[n("p",{domProps:{innerHTML:t._s(t.taskDetail)}})])]),t._v(" "),null!=e.setUpDirect&&""!=e.setUpDirect&&"undefined"!=e.setUpDirect?n("div",{staticClass:"operation"},["apk"==e.setUpDirect.substr(e.setUpDirect.lastIndexOf(".")+1)?n("div",{staticClass:"direct",on:{click:function(n){return t.directFn(e.setUpDirect,1)}}},[n("p",{staticClass:"cobyOrderSn",attrs:{"data-clipboard-action":"copy","data-clipboard-text":e.setUpDirect}},[t._v(t._s(t.$t("m.firstStep")))])]):n("div",{staticClass:"direct",on:{click:function(n){return t.directFn(e.setUpDirect,2)}}},[n("p",[t._v(t._s(t.$t("m.firstStep")))])]),t._v(" "),n("div",{staticClass:"submit",on:{click:function(n){return t.submit(e.id)}}},[t._v(t._s(t.$t("m.Submit_credentials")))])]):n("div",{staticClass:"operation_"},[n("div",{staticClass:"submit",on:{click:function(n){return t.submit(e.id)}}},[t._v(t._s(t.$t("m.Submit_credentials")))])])])])}),1)],1)])},staticRenderFns:[]};var L=n("VU/8")($,j,!1,function(t){n("gMJ0")},null,null);e.default=L.exports},il3B:function(t,e,n){"use strict";var a,i=n("RfZZ"),s=n("7+uW"),o=n("o69Z"),r=n("V+2B"),l=n("CsZI"),c=n("SSsa"),u=Object(o.b)("dialog"),d=u[0],f=u[1],h=u[2],p=d({mixins:[Object(l.a)()],props:{title:String,width:[Number,String],message:String,className:null,callback:Function,beforeClose:Function,messageAlign:String,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showCancelButton:Boolean,transition:{type:String,default:"van-dialog-bounce"},showConfirmButton:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1}},data:function(){return{loading:{confirm:!1,cancel:!1}}},methods:{onClickOverlay:function(){this.handleAction("overlay")},handleAction:function(t){var e=this;this.$emit(t),this.value&&(this.beforeClose?(this.loading[t]=!0,this.beforeClose(t,function(n){!1!==n&&e.loading[t]&&e.onClose(t),e.loading.confirm=!1,e.loading.cancel=!1})):this.onClose(t))},onClose:function(t){this.close(),this.callback&&this.callback(t)},onOpened:function(){this.$emit("opened")},onClosed:function(){this.$emit("closed")},genButtons:function(){var t,e=this,n=this.$createElement,a=this.showCancelButton&&this.showConfirmButton;return n("div",{class:[r.d,f("footer",{buttons:a})]},[this.showCancelButton&&n(c.a,{attrs:{size:"large",loading:this.loading.cancel,text:this.cancelButtonText||h("cancel")},class:f("cancel"),style:{color:this.cancelButtonColor},on:{click:function(){e.handleAction("cancel")}}}),this.showConfirmButton&&n(c.a,{attrs:{size:"large",loading:this.loading.confirm,text:this.confirmButtonText||h("confirm")},class:[f("confirm"),(t={},t[r.b]=a,t)],style:{color:this.confirmButtonColor},on:{click:function(){e.handleAction("confirm")}}})])}},render:function(){var t,e=arguments[0];if(this.shouldRender){var n=this.message,a=this.messageAlign,i=this.slots(),s=this.slots("title")||this.title,r=s&&e("div",{class:f("header",{isolated:!n&&!i})},[s]),l=(i||n)&&e("div",{class:f("content")},[i||e("div",{domProps:{innerHTML:n},class:f("message",(t={"has-title":s},t[a]=a,t))})]);return e("transition",{attrs:{name:this.transition},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[e("div",{directives:[{name:"show",value:this.value}],attrs:{role:"dialog","aria-labelledby":this.title||n},class:[f(),this.className],style:{width:Object(o.a)(this.width)}},[r,l,this.genButtons()])])}}});function m(t){return o.h?Promise.resolve():new Promise(function(e,n){var o;a&&(o=a.$el,document.body.contains(o))||(a&&a.$destroy(),(a=new(s.default.extend(p))({el:document.createElement("div"),propsData:{lazyRender:!1}})).$on("input",function(t){a.value=t})),Object(i.a)(a,m.currentOptions,t,{resolve:e,reject:n})})}m.defaultOptions={value:!0,title:"",width:"",message:"",overlay:!0,className:"",lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:null,messageAlign:"",getContainer:"body",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!1,closeOnClickOverlay:!1,callback:function(t){a["confirm"===t?"resolve":"reject"](t)}},m.alert=m,m.confirm=function(t){return m(Object(i.a)({showCancelButton:!0},t))},m.close=function(){a&&(a.value=!1)},m.setDefaultOptions=function(t){Object(i.a)(m.currentOptions,t)},m.resetDefaultOptions=function(){m.currentOptions=Object(i.a)({},m.defaultOptions)},m.resetDefaultOptions(),m.install=function(){s.default.use(p)},m.Component=p,s.default.prototype.$dialog=m;e.a=m}});