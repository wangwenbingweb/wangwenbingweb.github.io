webpackJsonp([35],{"8Rv5":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Xxa5"),n=s.n(a),r=s("exGp"),i=s.n(r),o=s("bOdI"),c=s.n(o),u=(s("eqfM"),s("/QYm")),l={name:"download",components:c()({},u.a.name,u.a),data:function(){return{userPhone:"",sendAuthCode:!0,auth_time:0,verificationCode:"",countries:this.$store.state.countries||"中国",code:this.$store.state.areaCode||"86",taskId:"",token:"",pass:"",inputType:"password",eye:!0,downPhone_:!1,downPass_:!1}},mounted:function(){},computed:{scrollHeight:function(){return document.documentElement.scrollTop||document.body.scrollTop||0},isDisabled:function(){return!(this.userPhone&&this.pass&&this.verificationCode)},isDisabled1:function(){return 11!=this.userPhone.length}},methods:{blurIn:function(){var e=this;window.scrollTo(0,Math.max(this.scrollHeight-1,0)),setTimeout(function(){e.downPhone_=!1,e.downPass_=!1},200)},getInputValue:function(){this.userPhone.length>=1?this.downPhone_=!0:this.downPhone_=!1},getInputValue_:function(){this.pass.length>=1?this.downPass_=!0:this.downPass_=!1},downPass:function(){this.pass="",this.downPass_=!this.downPass_},downPhone:function(){this.userPhone="",this.downPhone_=!this.downPhone_},showPassword:function(){var e=this;e.eye?(e.eye=!1,e.inputType="text"):(e.eye=!0,e.inputType="password")},complete:function(){var e=this;return i()(n.a.mark(function t(){var s,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=e.userPhone&&""!=e.verificationCode&&""!=e.pass){t.next=3;break}return Object(u.a)("请填写完整的信息"),t.abrupt("return",!1);case 3:if(/^(?![0-9]*$)(?![a-zA-Z]*$)[a-zA-Z0-9]{6,20}$/.test(e.pass)){t.next=7;break}return Object(u.a)("密码不规范，请重新输入"),t.abrupt("return",!1);case 7:return(s=new FormData).append("type","H"),s.append("areaCode",e.code),s.append("phoneNum",e.userPhone),s.append("verifyCode",e.verificationCode),s.append("password",e.pass),t.next=15,e.$api.forgotPwd(s);case 15:if(2e4==(a=t.sent).data.code){t.next=24;break}if(200!=a.data.code){t.next=22;break}Object(u.a)("修改成功"),e.$router.push({path:"/login",query:{}}),t.next=24;break;case 22:return Object(u.a)(a.data.message),t.abrupt("return",!1);case 24:case"end":return t.stop()}},t,e)}))()},countdown:function(){var e=this;this.sendAuthCode=!1,this.auth_time=60;var t=setInterval(function(){e.auth_time--,e.auth_time<=0&&(e.sendAuthCode=!0,clearInterval(t))},1e3)},obtain:function(){var e=this;return i()(n.a.mark(function t(){var s,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=e.userPhone){t.next=3;break}return Object(u.a)("手机号不能为空"),t.abrupt("return",!1);case 3:return(s=new FormData).append("phoneNum",e.userPhone),s.append("areaCode",e.code),s.append("sendType","forget"),t.next=9,e.$api.sendSms(s);case 9:if(2e4==(a=t.sent).data.code){t.next=18;break}if(200!=a.data.code){t.next=16;break}Object(u.a)("发送验证码成功"),e.countdown(),t.next=18;break;case 16:return Object(u.a)(a.data.message),t.abrupt("return",!1);case 18:case"end":return t.stop()}},t,e)}))()}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"main_show"},[e._m(0),e._v(" "),a("div",{staticClass:"content"},[a("ul",[a("li",[a("div",{staticClass:"left"},[e._v(e._s(e.$t("m.Countries_regions")))]),e._v(" "),a("div",{staticClass:"region"},[a("router-link",{attrs:{to:{path:"/quhao"}}},[e._v(e._s(e.countries)+"（+"+e._s(e.code)+"）")]),e._v(" "),e._m(1)],1)]),e._v(" "),a("li",[a("div",{staticClass:"starLeft",attrs:{id:"starLeft"}},[e._m(2),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userPhone,expression:"userPhone"}],attrs:{type:"number",placeholder:e.$t("m.Please_phonenumber"),oninput:"if(value.length>11)value=value.slice(0,11)"},domProps:{value:e.userPhone},on:{keyup:function(t){return e.getInputValue()},blur:e.blurIn,input:function(t){t.target.composing||(e.userPhone=t.target.value)}}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.downPhone_,expression:"downPhone_"}],staticClass:"Phone",on:{click:function(t){return e.downPhone()}}},[e._m(3)])]),e._v(" "),a("li",[a("div",{staticClass:"starLeft"},[e._m(4),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.verificationCode,expression:"verificationCode"}],attrs:{type:"number",placeholder:e.$t("m.Please_erification_code"),oninput:"if(value.length>6)value=value.slice(0,6)"},domProps:{value:e.verificationCode},on:{blur:e.blurIn,input:function(t){t.target.composing||(e.verificationCode=t.target.value)}}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.sendAuthCode,expression:"sendAuthCode"}],staticClass:"rightInfo"},[a("btn-component",{attrs:{disabled:e.isDisabled1,replaceBg:e.isDisabled1},on:{click:function(t){return e.obtain()}}},[e._v(e._s(e.$t("m.Get_verification_code")))])],1),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:!e.sendAuthCode,expression:"!sendAuthCode"}],staticClass:"obtain active"},[a("span",[e._v(e._s(e.auth_time))]),e._v("s\n          ")])]),e._v(" "),a("li",[a("div",{staticClass:"starLeft",attrs:{id:"starLeft"}},[e._m(5),e._v(" "),"checkbox"===e.inputType?a("input",{directives:[{name:"model",rawName:"v-model",value:e.pass,expression:"pass"}],attrs:{id:"text",placeholder:e.$t("m.Please_enter_characters"),type:"checkbox"},domProps:{checked:Array.isArray(e.pass)?e._i(e.pass,null)>-1:e.pass},on:{keyup:function(t){return e.getInputValue_()},blur:e.blurIn,change:function(t){var s=e.pass,a=t.target,n=!!a.checked;if(Array.isArray(s)){var r=e._i(s,null);a.checked?r<0&&(e.pass=s.concat([null])):r>-1&&(e.pass=s.slice(0,r).concat(s.slice(r+1)))}else e.pass=n}}}):"radio"===e.inputType?a("input",{directives:[{name:"model",rawName:"v-model",value:e.pass,expression:"pass"}],attrs:{id:"text",placeholder:e.$t("m.Please_enter_characters"),type:"radio"},domProps:{checked:e._q(e.pass,null)},on:{keyup:function(t){return e.getInputValue_()},blur:e.blurIn,change:function(t){e.pass=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.pass,expression:"pass"}],attrs:{id:"text",placeholder:e.$t("m.Please_enter_characters"),type:e.inputType},domProps:{value:e.pass},on:{keyup:function(t){return e.getInputValue_()},blur:e.blurIn,input:function(t){t.target.composing||(e.pass=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"hide"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.downPass_,expression:"downPass_"}],staticClass:"right",on:{click:function(t){return e.downPass()}}},[e._m(6)]),e._v(" "),a("div",{staticClass:"left"},[e.eye?a("div",{staticClass:"eyes_",on:{click:function(t){return e.showPassword()}}},[a("img",{attrs:{src:s("xPMD"),alt:""}})]):a("div",{staticClass:"eyes",on:{click:function(t){return e.showPassword()}}},[a("img",{attrs:{src:s("hhBA"),alt:""}})])])])])]),e._v(" "),a("div",{staticClass:"complete"},[a("btn-component",{attrs:{disabled:e.isDisabled,replaceBg:e.isDisabled},on:{click:function(t){return e.complete()}}},[e._v(e._s(e.$t("m.complete")))])],1)]),e._v(" "),a("div")])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"logo"},[t("img",{attrs:{src:s("82O5"),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("a",[t("img",{attrs:{src:s("wT03"),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"star"},[t("img",{attrs:{src:s("b/Ba"),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"down"},[t("img",{attrs:{src:s("0/cF"),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"star"},[t("img",{attrs:{src:s("b/Ba"),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"star"},[t("img",{attrs:{src:s("b/Ba"),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"down"},[t("img",{attrs:{src:s("0/cF"),alt:""}})])}]};var p=s("VU/8")(l,d,!1,function(e){s("dH7c")},"data-v-55a6a8f6",null);t.default=p.exports},dH7c:function(e,t){}});